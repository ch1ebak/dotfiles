#     __  ____  ______  ____  __    ___    _   ______     __________  _   __________________
#    / / / /\ \/ / __ \/ __ \/ /   /   |  / | / / __ \   / ____/ __ \/ | / / ____/  _/ ____/
#   / /_/ /  \  / /_/ / /_/ / /   / /| | /  |/ / / / /  / /   / / / /  |/ / /_   / // / __  
#  / __  /   / / ____/ _, _/ /___/ ___ |/ /|  / /_/ /  / /___/ /_/ / /|  / __/ _/ // /_/ /  
# /_/ /_/   /_/_/   /_/ |_/_____/_/  |_/_/ |_/_____/   \____/\____/_/ |_/_/   /___/\____/   


# ENVIRONMENT VARIABLES
# https://wiki.hyprland.org/Configuring/Environment-variables/
env = XCURSOR_SIZE,15
env = HYPRCURSOR_SIZE,15
env = XCURSOR_THEME,capitaine-cursors-light
env = GTK_THEME,Nordic-darker
env = ELECTRON_OZONE_PLATFORM_HINT,x11
# Nvidia
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia


# MONITORS
# https://wiki.hyprland.org/Configuring/Monitors/
monitor=eDP-1, 1920x1080@165, 0x0, 1
monitor=HDMI-A-1, 1920x1080@144, 1920x0, 1

# AUTOSTART
exec-once = waybar
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/bin/emacs --daemon &
exec-once = nm-applet &
exec-once = dunst &
exec-once = swww-daemon
exec-once = swww img "$(find ~/Obrazy/tapety -type f | shuf -n 1)"
exec-once = hypridle
exec-once = brightnessctl set 50%


# LOOK AND FEEL
# https://wiki.hyprland.org/Configuring/Variables/
general {
    gaps_in = 3
    gaps_out = 6
    border_size = 2
    # https://wiki.hyprland.org/Configuring/Variables/#variable-types
    col.active_border = rgba(b04b57ff)
    col.inactive_border = rgba(4c4f56ff)
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}
                                                                                                                      
# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 5
    active_opacity = 1.0
    inactive_opacity = 1.0
    drop_shadow = true
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(363942ff)
}
                                                                                                                      
# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {
    enabled = yes
    bezier = myBezier, 0.10, 0.9, 0.1, 1.05
    animation = windows, 1, 5, myBezier, slide
    animation = windowsOut, 1, 5, myBezier, slide
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}
                                                                                                                      
# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
    no_gaps_when_only = false
    pseudotile = true
    preserve_split = true
    force_split = 2
}
                                                                                                                      
# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
    vfr = true
}


# WINDOW AND WORKSPACE RULES
# https://wiki.hyprland.org/Configuring/Window-Rules/
# https://wiki.hyprland.org/Configuring/Workspace-Rules/
windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.
windowrulev2 = maximize, class:(nsxiv), title:(nsxiv)
windowrule = workspace 1, Ferdium
windowrule = workspace 3, Emacs
windowrule = workspace 4, Alacritty
windowrule = workspace 5, thunar
windowrule = workspace 6, calibre
windowrule = workspace 6, qbittorrent
windowrule = workspace 6, virt-manager
windowrule = workspace 6, gimp-2.10
windowrule = workspace 6, nwg-look
windowrule = workspace 6, waypaper
windowrule = workspace 7, steam
windowrule = workspace 7, lutris
windowrule = workspace 8, Spotify
windowrule = workspace 9, mpv
workspace = 1, monitor:HDMI-A-1
workspace = 2, monitor:HDMI-A-1
workspace = 3, monitor:HDMI-A-1
workspace = 4, monitor:HDMI-A-1
workspace = 5, monitor:HDMI-A-1
workspace = 6, monitor:HDMI-A-1
workspace = 7, monitor:HDMI-A-1
workspace = 8, monitor:eDP-1
workspace = 9, monitor:eDP-1


# KEYS
## My programs
# https://wiki.hyprland.org/Configuring/Keywords/
$terminal = alacritty
$fileManager = thunar
$menu = rofi -m 1 -show drun
                                                                                                                  
## Input
# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = pl
    follow_mouse = 0
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}
                                                                                                                  
cursor {
    no_hardware_cursors = true
}
                                                                                                                  
binds {
    workspace_back_and_forth = 1
}
                                                                                                                  
## Keybindings
# https://wiki.hyprland.org/Configuring/Keywords/
$mainMod = SUPER
                                                                                                                  
# https://wiki.hyprland.org/Configuring/Binds/
# Apps
bind = $mainMod, RETURN, exec, $terminal
bind = $mainMod, W, exec, firefox
bind = $mainMod SHIFT, W, exec, /usr/bin/firefox --private-window
bind = $mainMod, E, exec, emacsclient -c -a 'emacs'
bind = $mainMod, A, exec, emacsclient -c -a 'emacs' --eval '(dired nil)'
bind = $mainMod SHIFT, A, exec, $fileManager
                                                                                                                  
# Other
bind = $mainMod, S, exec, $menu
bind = $mainMod, P, exec, hyprlock
bind = $mainMod SHIFT, P, exec, rofi -m 1 -show power-menu -modi power-menu:~/.config/rofi/modules/rofi-power-menu
bind = $mainMod, V, exec, swww img "$(find ~/Obrazy/tapety -type f | shuf -n 1)"
                                                                                                                  
# App control
bind = $mainMod, Q, killactive,
bind = $mainMod CONTROL, Q, exit,
bind = $mainMod CONTROL, R, exec, killall waybar && waybar & disown
                                                                                                                  
# Layouts
bind = $mainMod, TAB, togglesplit,
bind = $mainMod, SPACE, fullscreen, 1
                                                                                                                  
# Switch between monitors
bind = $mainMod, Z, movewindow, mon:eDP-1
bind = $mainMod, X, movewindow, mon:HDMI-A-1
                                                                                                                  
# Scroll through workspaces
bind = $mainMod, J, workspace, e-1
bind = $mainMod, K, workspace, e+1
                                                                                                                  
# Move focus with mainMod + arrow keys
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
                                                                                                                  
# Move windows
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
                                                                                                                  
# Resize windows
bind = $mainMod CTRL, h, resizeactive, -20 0
bind = $mainMod CTRL, l, resizeactive, 20 0
bind = $mainMod CTRL, k, resizeactive, 0 -20
bind = $mainMod CTRL, j, resizeactive, 0 20
                                                                                                                  
# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10
                                                                                                                  
# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10
                                                                                                                  
# Mouse
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow